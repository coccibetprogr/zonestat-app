/* Tailwind v4 base */
@import "tailwindcss";

/* ————— Thème clair / tokens ————— */
@theme {
  /* Fond */
  --color-bg: #F9FAFB;
  --color-bg-soft: #FFFFFF;
  --color-bg-card: #FFFFFF;
  --color-bg-hover: #F3F4F6;

  /* Bordures / lignes */
  --color-line: #E5E7EB;

  /* Texte */
  --color-fg-base: #111827;
  --color-fg-muted: #4B5563;
  --color-fg-subtle: #6B7280;

  /* Accents */
  --color-primary: #10B981;
  --color-primary-hover: #0EA371;
  --color-info: #3B82F6;
  --color-warning: #FACC15;
  --color-danger: #EF4444;
  --color-success: #16A34A;

  /* Rayons & ombres */
  --radius-md: 8px;
  --radius-xl: 14px;
  --radius-2xl: 22px;
  --shadow-card: 0 4px 20px rgba(0,0,0,0.04);
  --shadow-hover: 0 6px 28px rgba(0,0,0,0.08);
}

/* ————— Base ————— */
:root { color-scheme: light; }
html, body { height: 100%; scroll-behavior: smooth; }
body {
  @apply bg-bg text-fg-base antialiased leading-relaxed;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}
a { color: inherit; text-decoration: none; transition: color .2s ease; }
a:hover { color: var(--color-primary); }
*:focus-visible { outline: none; box-shadow: 0 0 0 3px rgba(16,185,129,0.3); border-radius: 6px; }

/* ————— Layout helpers ————— */
.container-page { @apply container max-w-[1200px] px-4; }

section {
  @apply mb-12;
}

/* ————— Header ————— */
.header-shell {
  background: rgba(255,255,255,0.9);
  backdrop-filter: blur(10px);
  border-radius: var(--radius-xl);
  box-shadow: 0 2px 18px rgba(0,0,0,0.05);
  transition: background .3s ease, box-shadow .3s ease;
}
.header-shell:hover {
  box-shadow: 0 3px 22px rgba(0,0,0,0.07);
}

/* Liens de nav */
.navlink {
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: .25rem;
  font-weight: 500;
  color: var(--color-fg-muted);
  transition: color .2s ease;
}
.navlink:hover { color: var(--color-primary); }
.navlink::after {
  content: "";
  position: absolute;
  left: 0; right: 0; bottom: -4px; height: 2px;
  background: var(--color-primary);
  transform: scaleX(0);
  transform-origin: center;
  transition: transform .25s ease;
}
.navlink:hover::after { transform: scaleX(1); }

/* ————— Cartes / UI ————— */
.card {
  @apply bg-bg-card border border-line rounded-2xl shadow-card;
  transition: box-shadow .25s ease, transform .25s ease;
}
.card-hover:hover {
  box-shadow: var(--shadow-hover);
  transform: translateY(-2px);
}

/* ————— Boutons ————— */
.btn {
  @apply inline-flex items-center justify-center font-semibold;
  height: 44px;
  padding: 0 18px;
  border-radius: 999px;
  transition: all 0.18s ease;
  cursor: pointer;
  user-select: none;
}
.btn:active { transform: translateY(1px); }

.btn-primary {
  background: var(--color-primary);
  color: #fff;
  border: 1px solid transparent;
  box-shadow: 0 4px 10px rgba(16,185,129,0.25);
}
.btn-primary:hover { background: var(--color-primary-hover); }

.btn-ghost {
  background: var(--color-bg-soft);
  border: 1px solid var(--color-line);
  color: var(--color-fg-base);
}
.btn-ghost:hover {
  background: var(--color-bg-hover);
  border-color: var(--color-primary);
  color: var(--color-primary);
}

/* ————— Inputs ————— */
.input {
  @apply w-full h-11 rounded-lg px-3 text-[0.95rem] bg-bg-soft border border-line text-fg-base transition;
}
.input::placeholder { color: var(--color-fg-subtle); }
.input:focus {
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px rgba(16,185,129,0.2);
}

/* ————— Feedbacks ————— */
.message { @apply text-sm mt-1; }
.message--error { color: var(--color-danger); }
.message--success { color: var(--color-success); }
.message--info { color: var(--color-info); }

/* ————— Captcha ————— */
.captcha-shell {
  @apply flex items-center justify-center min-h-[70px] border border-line rounded-lg bg-bg-soft;
}
.captcha-shell iframe,
.cf-turnstile,
.cf-turnstile iframe {
  border: 0 !important;
  background: transparent !important;
}

/* ————— Table compacte ————— */
.table { @apply w-full border-separate border-spacing-y-2 text-sm; }
.tr { @apply bg-bg-card border border-line rounded-xl overflow-hidden; transition: background .2s ease; }
.tr:hover { background: var(--color-bg-hover); }
.th, .td { @apply px-3 py-2; }
.th { @apply text-fg-subtle font-medium; }
.td { @apply text-fg-base; }

/* ————— Transitions / Animations ————— */
.fade-in { animation: fadeIn .45s ease both; }
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(4px); }
  to { opacity: 1; transform: none; }
}

.fade-in-up { animation: fadeInUp .6s cubic-bezier(0.22, 1, 0.36, 1) both; }
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.fade-in-left { animation: fadeInLeft .6s cubic-bezier(0.22, 1, 0.36, 1) both; }
@keyframes fadeInLeft {
  from { opacity: 0; transform: translateX(-20px); }
  to { opacity: 1; transform: translateX(0); }
}

.fade-in-scale { animation: fadeInScale .5s ease-out both; }
@keyframes fadeInScale {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

/* ————— MOT-CLÉ ANIMÉ (HOME HERO) ————— */
.animated-words::after {
  content: "Analyse";
  animation: rotateWords 6s infinite;
}
@keyframes rotateWords {
  0%, 30% { content: "Analyse"; }
  33%, 63% { content: "Anticipe"; }
  66%, 96% { content: "Décide"; }
  100% { content: "Analyse"; }
}

/* ————— Responsive refinements ————— */
@media (max-width: 640px) {
  .btn { height: 42px; padding: 0 14px; font-size: 0.95rem; }
  .navlink { font-size: 0.95rem; }
  .container-page { @apply px-3; }
}
